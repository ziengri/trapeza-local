(function(j){function l(b,a,e,f){var g="nc_categories"==a.xaxis.options.mode,d="nc_categories"==a.yaxis.options.mode;if(g||d){var c=f.format;if(!c){c=[];c.push({x:!0,number:!0,required:!0});c.push({y:!0,number:!0,required:!0});if(a.bars.show||a.lines.show&&a.lines.fill)if(c.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero)}),a.bars.horizontal)delete c[c.length-1].y,c[c.length-1].x=!0;f.format=c}for(a=0;a<c.length;++a){if(c[a].x&&g)c[a].number=
!1;if(c[a].y&&d)c[a].number=!1}b=nc(b.getCanvas()).width()-100;this.showEachIndex=Math.ceil(e.length/(b/70))}}function m(b){var a=[],e;for(e in b.categories){var f=b.categories[e];f>=b.min&&f<=b.max&&!(1<this.showEachIndex&&0!==f%this.showEachIndex)&&("tickFormatter"in b&&(e=b.tickFormatter(e)),a.push([f,e]))}a.sort(function(a,b){return a[0]-b[0]});return a}function k(b,a,e){if("nc_categories"==b[a].options.mode){if(!b[a].categories){var f={},g=b[a].options.categories||{};if(j.isArray(g))for(var d=
0;d<g.length;++d)f[g[d]]=d;else for(d in g)f[d]=g[d];b[a].categories=f}if(!b[a].options.ticks)b[a].options.ticks=m;var b=b[a].categories,f=e.points,g=e.pointsize,e=e.format,a=a.charAt(0),c,d=-1;for(c in b)b[c]>d&&(d=b[c]);c=d+1;for(d=0;d<f.length;d+=g)if(null!=f[d])for(var h=0;h<g;++h){var i=f[d+h];null!=i&&e[h][a]&&(i in b||(b[i]=c,++c),f[d+h]=b[i])}}}function n(b,a,e){k(a,"xaxis",e);k(a,"yaxis",e)}j.plot.plugins.push({init:function(b){b.hooks.processRawData.push(l);b.hooks.processDatapoints.push(n)},
options:{xaxis:{categories:null},yaxis:{categories:null}},name:"nc_categories",version:"1.0"})})(jQuery);
