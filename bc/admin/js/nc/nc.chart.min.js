(function(c){var p=c.config("admin_path")+"js/flot/",u=[p+"jquery.flot.min.js",p+"jquery.flot.nc_categories.min.js",p+"jquery.flot.pie.js"],f={},g,n,q,v,h,w,r={months:"January February March April May June July August September October November December",months_short:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec",series:{lines:{show:!1,steps:!1},points:{show:!1},bars:{show:!0,lineWidth:0,barWidth:.9,align:"center",fill:!0,fillColor:{colors:[{opacity:.7},{opacity:.2}]}}},grid:{hoverable:!0,color:"#CCC",
borderWidth:1,borderColor:"#DDD",margin:{top:20,left:20,right:20,bottom:10},axisMargin:10},shadowSize:0,margin:30,legend:{labelFormatter:function(a,b){v.append('<li><i style="background-color:'+b.color+'"></i>'+a+"</li> ")}},xaxis:{mode:"nc_categories",tickLength:0,tickFormatter:function(a){return k(f.nc_xaxis_format,a,{"short":!0})}},yaxis:{tickFormatter:function(a){return k(f.nc_yaxis_format,a,{"short":!0})}}},t=function(a,b,d){return c.key_exists(b,a)?a[b]:d},x=function(a,b){a=a||{};b=b||{};var d=
{},e;for(e in a)d[e]=a[e];for(e in b)d[e]=b[e];return d},y=function(a,b,d){b=2+d+7*(b-1)-(new Date(a,0,1)).getDay();return new Date(a,0,b)},l=function(a,b){return f[b?"months_short":"months"][parseInt(a)-1]},k=function(a,b,d){d=d||{};switch(a){case "price":return(b+"").replace(/\d(?=(\d{3})+$)/g,"$&&thinsp;")+"&nbsp;"+t(f,"nc_currency","");case "date":a=b.split(".");switch(a.length){case 1:a=b.split(" ");var e=a[0];a=a[1];b=y(a,e,0);e=y(a,e,6);a=[];b.getMonth()===e.getMonth()?(a.push(b.getDate()+
"-"+e.getDate()),a.push(l(b.getMonth()+1,d["short"]))):(a.push(b.getDate()),a.push(l(b.getMonth()+1,d["short"])),a.push("-"),a.push(e.getDate()),a.push(l(e.getMonth()+1,d["short"])));a.push("<br>");a.push(e.getFullYear());break;case 2:a[0]=l(a[0],d["short"]);break;case 3:a[1]=l(a[1],d["short"])}return a.join(" ");default:return b}},z=function(a,b,d){f=x(r,d);g=a.html("");n=c('<div class="nc-chart-canvas"></div>').appendTo(g);q=c('<div class="nc-chart-table" style="display:none; position:relative; padding:0"></div>').appendTo(g);
f.months=f.months.toLowerCase().split(" ");f.months_short=f.months_short.toLowerCase().split(" ");if("undefined"===typeof f.series.pie||!1===f.series.pie.show)a=c("<div class='nc-chart-legend'></div>").appendTo(g),d=c('<a href="#" class="nc-icon nc--right nc--dev-system-tables nc--hovered"></a>').appendTo(a),v=c("<ul></ul>").appendTo(a),d.click(function(){var a=c(this).parents("div.nc-chart");c(this).toggleClass("nc--hovered");a.find("div.nc-chart-canvas").toggle();a.find("div.nc-chart-table").toggle();
return!1});!c.key_exists("width",f)&&g.width()||g.width(t(f,"width",600));c.key_exists("height",f)&&(a=t(f,"height",300),n.height(a),q.css({height:a,overflow:"auto"}));if("data"in b[0]){a='<table class="nc-table nc--small nc--striped nc--wide"><tr><th width="1%" class="nc--nowrap"></th>';for(var e in b)a+='<th width="1%" class="nc--nowrap">'+b[e].label+"</th>";a+="<th></th></tr>";for(e in b[0].data){d=b[0].data[e][0];a+="<tr>";a+='<td class="nc--nowrap">'+k(f.nc_xaxis_format,d).replace("<br>"," ")+
"</td>";for(var h in b)d=b[h].data[e][1],a+='<td class="nc--nowrap nc-text-right">'+k(f.nc_yaxis_format,d)+"</td>";a+="<td></td></tr>"}a+="</table>";q.html(a)}try{n.plot(b,f)}catch(A){}m.hoverable(n)},m=function(a,b,d){var e=function(){z(a,b,d)};e();c(window).resize(e);clearTimeout(w);w=setTimeout(function(){c(window).resize()},300)};m.__init=function(){for(var a in u)c("head").append('<script src="'+u[a]+'">\x3c/script>');c(function(){h=c("<div id='nc_chart_tooltip' class='nc-popover nc--bc nc--hidden nc--hide'></div>").css({position:"absolute",
width:180}).appendTo("body")})};m.set_defaults=function(a){r=x(r,a)};m.hoverable=function(a){var b,d=f.nc_xaxis_format,e=f.nc_yaxis_format;c(a).bind("plothover",function(a,f,c){if(c){a=Math.round(h.outerWidth()/2);var g=Math.round(h.outerHeight())+15;"undefined"===typeof c.series.pie||!1===c.series.pie.show?(b=c.series.label+": "+k(e,c.datapoint[1].toFixed(0))+"<br>"+k(d,c.series.data[c.datapoint[0]][0]).replace("<br>"," "),h.html(b).css({top:c.pageY-g,left:c.pageX-a}).fadeIn(200)):h.html(c.series.label+
": "+c.datapoint[1][0][1].toFixed(2)).css({top:f.pageY-g,left:f.pageX+a}).fadeIn(200)}else h.hide()})};c.ext("chart",m)})(nc);
