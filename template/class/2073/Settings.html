<?php
global $IMG_HOST,$action, $mainpage, $bitcat, $cityid, $cityname, $citylink, $setting,
$action, $db, $setting_texts, $find, $current_sub, $kurs, $catalogue;


if ($current_catalogue['customCode']) {
  GLOBAL $pathInc2;
    $includeClass = NULL;
  $thisFile = $DOCUMENT_ROOT.$pathInc2."/template/class/{$classID}/Settings.html";
  $thisFile2 = $DOCUMENT_ROOT.$pathInc2."/template/{$classID}/template/Settings.html";
  if (file_exists($thisFile)) $includeClass = 1;
  elseif (file_exists($thisFile2)) $includeClass = 2;
}

if ($includeClass==1) { include($thisFile); } elseif ($includeClass==2) {include($thisFile2);} else { # ############ START ##########

if ($rand) $query_order = "RAND()";

# видимость скрытых для админа
if (!$isTitle && $bitcat) {
    $ignore_check = 1;
}

# size items in sub
if(isJson($settingsSub)) $settingsSub = orderArray($current_sub['settingsSub']);
# object fit
if($sizehave && $sizeitem_fit) $imagefit = $sizeitem_fit;
else if($settingsSub["sizehave"] && $settingsSub["sizeitem_fit"]) $imagefit = $settingsSub["sizeitem_fit"];
else $imagefit = $setting["size".$classID."_fit"];
$image_default = image_fit($imagefit);

# targeting content
$query_where .= targeting($query_where);

}

?>