(function(e){"function"===typeof define&&define.amd?define("jquery,./mouse,../disable-selection,../plugin,../version,../widget".split(","),e):e(jQuery)})(function(e){e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,
minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseFloat(a)||0},_isNumber:function(a){return!isNaN(parseFloat(a))},_hasScroll:function(a,b){if("hidden"===e(a).css("overflow"))return!1;var d=b&&"left"===b?"scrollLeft":"scrollTop",g=!1;if(0<a[d])return!0;a[d]=1;g=0<a[d];a[d]=0;return g},_create:function(){var a,b=this.options,d=this;this._addClass("ui-resizable");e.extend(this,{_aspectRatio:!!b.aspectRatio,aspectRatio:b.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:b.helper||b.ghost||b.animate?b.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i))this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),
this.elementIsWrapper=!0,a={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(a),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),
this.originalElement.css(a),this._proportionallyResize();this._setupHandles();if(b.autoHide)e(this.element).on("mouseenter",function(){b.disabled||(d._removeClass("ui-resizable-autohide"),d._handles.show())}).on("mouseleave",function(){!b.disabled&&!d.resizing&&(d._addClass("ui-resizable-autohide"),d._handles.hide())});this._mouseInit()},_destroy:function(){this._mouseDestroy();this._addedHandles.remove();var a,b=function(a){e(a).removeData("resizable").removeData("ui-resizable").off(".resizable")};
if(this.elementIsWrapper)b(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove();this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this},_setOption:function(a,b){this._super(a,b);switch(a){case "handles":this._removeHandles();this._setupHandles();break;case "aspectRatio":this._aspectRatio=!!b}},_setupHandles:function(){var a=
this.options,b,d,g,c,f,h=this;this.handles=a.handles||(!e(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=e();this._addedHandles=e();if(this.handles.constructor===String){if("all"===this.handles)this.handles="n,e,s,w,se,sw,ne,nw";g=this.handles.split(",");this.handles={};for(d=0;d<g.length;d++)if(b=e.trim(g[d]),
c="ui-resizable-"+b,f=e("<div>"),this._addClass(f,"ui-resizable-handle "+c),f.css({zIndex:a.zIndex}),this.handles[b]=".ui-resizable-"+b,!this.element.children(this.handles[b]).length)this.element.append(f),this._addedHandles=this._addedHandles.add(f)}this._renderAxis=function(a){var b,c,d,a=a||this.element;for(b in this.handles){if(this.handles[b].constructor===String)this.handles[b]=this.element.children(this.handles[b]).first().show();else if(this.handles[b].jquery||this.handles[b].nodeType)this.handles[b]=
e(this.handles[b]),this._on(this.handles[b],{mousedown:h._mouseDown});this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(c=e(this.handles[b],this.element),d=/sw|ne|nw|se|n|s/.test(b)?c.outerHeight():c.outerWidth(),c=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),a.css(c,d),this._proportionallyResize());this._handles=this._handles.add(this.handles[b])}};this._renderAxis(this.element);this._handles=
this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!h.resizing)this.className&&(f=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),h.axis=f&&f[1]?f[1]:"se"});a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(a){var b,d,g=!1;for(b in this.handles)if(d=e(this.handles[b])[0],d===a.target||e.contains(d,
a.target))g=!0;return!this.options.disabled&&g},_mouseStart:function(a){var b,d,g=this.options,c=this.element;this.resizing=!0;this._renderProxy();b=this._num(this.helper.css("left"));d=this._num(this.helper.css("top"));g.containment&&(b+=e(g.containment).scrollLeft()||0,d+=e(g.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:b,top:d};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:c.width(),height:c.height()};this.originalSize=
this._helper?{width:c.outerWidth(),height:c.outerHeight()}:{width:c.width(),height:c.height()};this.sizeDiff={width:c.outerWidth()-c.width(),height:c.outerHeight()-c.height()};this.originalPosition={left:b,top:d};this.originalMousePosition={left:a.pageX,top:a.pageY};this.aspectRatio="number"===typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1;b=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor","auto"===b?this.axis+"-resize":b);this._addClass("ui-resizable-resizing");
this._propagate("start",a);return!0},_mouseDrag:function(a){var b,d=this.originalMousePosition;b=a.pageX-d.left||0;var d=a.pageY-d.top||0,g=this._change[this.axis];this._updatePrevProperties();if(!g)return!1;b=g.apply(this,[a,b,d]);this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)b=this._updateRatio(b,a);b=this._respectSize(b,a);this._updateCache(b);this._propagate("resize",a);b=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();
e.isEmptyObject(b)||(this._updatePrevProperties(),this._trigger("resize",a,this.ui()),this._applyChanges());return!1},_mouseStop:function(a){var f;this.resizing=!1;var b,d,g,c=this.options;if(this._helper)b=this._proportionallyResizeElements,f=(d=b.length&&/textarea/i.test(b[0].nodeName))&&this._hasScroll(b[0],"left")?0:this.sizeDiff.height,b=f,d=d?0:this.sizeDiff.width,d={width:this.helper.width()-d,height:this.helper.height()-b},b=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||
null,g=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(e.extend(d,{top:g,left:b})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize();e("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",a);this._helper&&this.helper.remove();return!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};
this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};if(this.position.top!==this.prevPosition.top)a.top=this.position.top+"px";if(this.position.left!==this.prevPosition.left)a.left=this.position.left+"px";if(this.size.width!==this.prevSize.width)a.width=this.size.width+"px";if(this.size.height!==this.prevSize.height)a.height=this.size.height+"px";this.helper.css(a);return a},_updateVirtualBoundaries:function(a){var b,d,e,c;c=this.options;c={minWidth:this._isNumber(c.minWidth)?
c.minWidth:0,maxWidth:this._isNumber(c.maxWidth)?c.maxWidth:Infinity,minHeight:this._isNumber(c.minHeight)?c.minHeight:0,maxHeight:this._isNumber(c.maxHeight)?c.maxHeight:Infinity};if(this._aspectRatio||a){a=c.minHeight*this.aspectRatio;d=c.minWidth/this.aspectRatio;b=c.maxHeight*this.aspectRatio;e=c.maxWidth/this.aspectRatio;if(a>c.minWidth)c.minWidth=a;if(d>c.minHeight)c.minHeight=d;if(b<c.maxWidth)c.maxWidth=b;if(e<c.maxHeight)c.maxHeight=e}this._vBoundaries=c},_updateCache:function(a){this.offset=
this.helper.offset();if(this._isNumber(a.left))this.position.left=a.left;if(this._isNumber(a.top))this.position.top=a.top;if(this._isNumber(a.height))this.size.height=a.height;if(this._isNumber(a.width))this.size.width=a.width},_updateRatio:function(a){var b=this.position,d=this.size,e=this.axis;if(this._isNumber(a.height))a.width=a.height*this.aspectRatio;else if(this._isNumber(a.width))a.height=a.width/this.aspectRatio;if("sw"===e)a.left=b.left+(d.width-a.width),a.top=null;if("nw"===e)a.top=b.top+
(d.height-a.height),a.left=b.left+(d.width-a.width);return a},_respectSize:function(a){var b=this._vBoundaries,d=this.axis,e=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,c=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,f=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,h=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,i=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,m=/sw|nw|w/.test(d),d=/nw|ne|n/.test(d);
if(f)a.width=b.minWidth;if(h)a.height=b.minHeight;if(e)a.width=b.maxWidth;if(c)a.height=b.maxHeight;if(f&&m)a.left=i-b.minWidth;if(e&&m)a.left=i-b.maxWidth;if(h&&d)a.top=l-b.minHeight;if(c&&d)a.top=l-b.maxHeight;if(!a.width&&!a.height&&!a.left&&a.top)a.top=null;else if(!a.width&&!a.height&&!a.top&&a.left)a.left=null;return a},_getPaddingPlusBorderDimensions:function(a){for(var b=0,d=[],e=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],a=[a.css("paddingTop"),
a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>b;b++)d[b]=parseFloat(e[b])||0,d[b]+=parseFloat(a[b])||0;return{height:d[0]+d[2],width:d[1]+d[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,b=0,d=this.helper||this.element;b<this._proportionallyResizeElements.length;b++){a=this._proportionallyResizeElements[b];if(!this.outerDimensions)this.outerDimensions=this._getPaddingPlusBorderDimensions(a);a.css({height:d.height()-this.outerDimensions.height||
0,width:d.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var a=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=
this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,d){return{top:this.originalPosition.top+d,height:this.originalSize.height-d}},s:function(a,b,d){return{height:this.originalSize.height+d}},se:function(a,b,d){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,d]))},sw:function(a,b,d){return e.extend(this._change.s.apply(this,arguments),
this._change.w.apply(this,[a,b,d]))},ne:function(a,b,d){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,b,d]))},nw:function(a,b,d){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,d]))}},_propagate:function(a,b){e.ui.plugin.call(this,a,[b,this.ui()]);"resize"!==a&&this._trigger(a,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,
originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.ui.plugin.add("resizable","animate",{stop:function(a){var b=e(this).resizable("instance"),d=b.options,g=b._proportionallyResizeElements,c=g.length&&/textarea/i.test(g[0].nodeName),f=c&&b._hasScroll(g[0],"left")?0:b.sizeDiff.height,c={width:b.size.width-(c?0:b.sizeDiff.width),height:b.size.height-f},f=parseFloat(b.element.css("left"))+(b.position.left-b.originalPosition.left)||null,h=parseFloat(b.element.css("top"))+(b.position.top-
b.originalPosition.top)||null;b.element.animate(e.extend(c,h&&f?{top:h,left:f}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var c={width:parseFloat(b.element.css("width")),height:parseFloat(b.element.css("height")),top:parseFloat(b.element.css("top")),left:parseFloat(b.element.css("left"))};g&&g.length&&e(g[0]).css({width:c.width,height:c.height});b._updateCache(c);b._propagate("resize",a)}})}});e.ui.plugin.add("resizable","containment",{start:function(){var a,b,d,g,c,f=
e(this).resizable("instance"),h=f.element;d=f.options.containment;if(h=d instanceof e?d.get(0):/parent/.test(d)?h.parent().get(0):d)f.containerElement=e(h),/document/.test(d)||d===document?(f.containerOffset={left:0,top:0},f.containerPosition={left:0,top:0},f.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(a=e(h),b=[],e(["Top","Right","Left","Bottom"]).each(function(c,d){b[c]=f._num(a.css("padding"+d))}),
f.containerOffset=a.offset(),f.containerPosition=a.position(),f.containerSize={height:a.innerHeight()-b[3],width:a.innerWidth()-b[1]},d=f.containerOffset,g=f.containerSize.height,c=f.containerSize.width,c=f._hasScroll(h,"left")?h.scrollWidth:c,g=f._hasScroll(h)?h.scrollHeight:g,f.parentData={element:h,left:d.left,top:d.top,width:c,height:g})},resize:function(a){var b,d,g,c=e(this).resizable("instance");b=c.options;d=c.containerOffset;g=c.position;var a=c._aspectRatio||a.shiftKey,f={top:0,left:0},
h=c.containerElement,i=!0;h[0]!==document&&/static/.test(h.css("position"))&&(f=d);if(g.left<(c._helper?d.left:0)){c.size.width+=c._helper?c.position.left-d.left:c.position.left-f.left;if(a)c.size.height=c.size.width/c.aspectRatio,i=!1;c.position.left=b.helper?d.left:0}if(g.top<(c._helper?d.top:0)){c.size.height+=c._helper?c.position.top-d.top:c.position.top;if(a)c.size.width=c.size.height*c.aspectRatio,i=!1;c.position.top=c._helper?d.top:0}b=c.containerElement.get(0)===c.element.parent().get(0);
g=/relative|absolute/.test(c.containerElement.css("position"));b&&g?(c.offset.left=c.parentData.left+c.position.left,c.offset.top=c.parentData.top+c.position.top):(c.offset.left=c.element.offset().left,c.offset.top=c.element.offset().top);b=Math.abs(c.sizeDiff.width+(c._helper?c.offset.left-f.left:c.offset.left-d.left));d=Math.abs(c.sizeDiff.height+(c._helper?c.offset.top-f.top:c.offset.top-d.top));if(b+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-b,a))c.size.height=c.size.width/
c.aspectRatio,i=!1;if(d+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-d,a))c.size.width=c.size.height*c.aspectRatio,i=!1;if(!i)c.position.left=c.prevPosition.left,c.position.top=c.prevPosition.top,c.size.width=c.prevSize.width,c.size.height=c.prevSize.height},stop:function(){var a=e(this).resizable("instance"),b=a.options,d=a.containerOffset,g=a.containerPosition,c=a.containerElement,f=e(a.helper),h=f.offset(),i=f.outerWidth()-a.sizeDiff.width,f=f.outerHeight()-a.sizeDiff.height;
a._helper&&!b.animate&&/relative/.test(c.css("position"))&&e(this).css({left:h.left-g.left-d.left,width:i,height:f});a._helper&&!b.animate&&/static/.test(c.css("position"))&&e(this).css({left:h.left-g.left-d.left,width:i,height:f})}});e.ui.plugin.add("resizable","alsoResize",{start:function(){var a=e(this).resizable("instance").options;e(a.alsoResize).each(function(){var a=e(this);a.data("ui-resizable-alsoresize",{width:parseFloat(a.width()),height:parseFloat(a.height()),left:parseFloat(a.css("left")),
top:parseFloat(a.css("top"))})})},resize:function(a,b){var d=e(this).resizable("instance"),g=d.originalSize,c=d.originalPosition,f={height:d.size.height-g.height||0,width:d.size.width-g.width||0,top:d.position.top-c.top||0,left:d.position.left-c.left||0};e(d.options.alsoResize).each(function(){var a=e(this),c=e(this).data("ui-resizable-alsoresize"),d={},g=a.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(g,function(a,b){var e=(c[b]||0)+(f[b]||0);e&&0<=
e&&(d[b]=e||null)});a.css(d)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}});e.ui.plugin.add("resizable","ghost",{start:function(){var a=e(this).resizable("instance"),b=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:0.25,display:"block",position:"relative",height:b.height,width:b.width,margin:0,left:0,top:0});a._addClass(a.ghost,"ui-resizable-ghost");!1!==e.uiBackCompat&&"string"===typeof a.options.ghost&&a.ghost.addClass(this.options.ghost);a.ghost.appendTo(a.helper)},
resize:function(){var a=e(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=e(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});e.ui.plugin.add("resizable","grid",{resize:function(){var a,b=e(this).resizable("instance"),d=b.options,g=b.size,c=b.originalSize,f=b.originalPosition,h=b.axis,i="number"===typeof d.grid?[d.grid,d.grid]:d.grid,l=i[0]||1,m=i[1]||1,n=Math.round((g.width-
c.width)/l)*l,g=Math.round((g.height-c.height)/m)*m,j=c.width+n,k=c.height+g,o=d.maxWidth&&d.maxWidth<j,p=d.maxHeight&&d.maxHeight<k,q=d.minWidth&&d.minWidth>j,r=d.minHeight&&d.minHeight>k;d.grid=i;q&&(j+=l);r&&(k+=m);o&&(j-=l);p&&(k-=m);if(/^(se|s|e)$/.test(h))b.size.width=j,b.size.height=k;else if(/^(ne)$/.test(h))b.size.width=j,b.size.height=k,b.position.top=f.top-g;else if(/^(sw)$/.test(h))b.size.width=j,b.size.height=k,b.position.left=f.left-n;else{if(0>=k-m||0>=j-l)a=b._getPaddingPlusBorderDimensions(this);
0<k-m?(b.size.height=k,b.position.top=f.top-g):(k=m-a.height,b.size.height=k,b.position.top=f.top+c.height-k);0<j-l?(b.size.width=j,b.position.left=f.left-n):(j=l-a.width,b.size.width=j,b.position.left=f.left+c.width-j)}}});return e.ui.resizable});
